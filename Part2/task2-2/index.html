<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>IFE javascript Task 01</title>
    </head>
    
    <body>
        <h3>污染城市列表</h3>
        <ul id="aqi-list">
        </ul>
        
        
        
        <script type="text/javascript">
            var aqiDate = [
                ["北京", 90],
                ["上海", 50],
                ["福州", 10],
                ["广州", 50],
                ["成都", 90],
                ["西安",100]
            ];
            
            (function () {
                
                
                var aqiList = document.querySelector("#aqi-list");
                var docfrag = document.createDocumentFragment();
                
                // 关于 DocumentFragment https://developer.mozilla.org/zh-CN/docs/Web/API/Document/createDocumentFragment
                
                console.log(aqiDate);
                
                // 排序
                aqiDate.sort(function (num1, num2) {
                    return num2[1] - num1[1];
                }).forEach(function (item, index) {
                    // 遍利 aqiDate 找出aqi > 60 的数组
                    if(item[1] > 60) {
                        var list = document.createElement("li");
                        list.textContent = "第" + ( index + 1 ) + "名," + item[0] + ":" + item[1];
                        docfrag.appendChild(list);
                    }
                });
                
                aqiList.appendChild(docfrag);
                
                /*
                
                array.forEach(function (item ,index) {
                    var list = document.createElement("li");
                    list.textContent = "第" + ( index + 1 ) + "名," + item[0] + ":" + item[1];
                    docfrag.appendChild(list);
                })
                
                aqiList.appendChild(docfrag);
                
                console.log(array);
                
                console.log(aqiDate);
                
                */
                
            })();
        </script>
    </body>
    
</html>